싱글쓰레드를 사용할때는 컴파일러의 개입이 문제가 없었지만 멀티쓰레드를 사용한다면 컴파일러의 개입 때문에 원하는대로 출력이 안될 수도 있다. 그래서 가시성 및 코드 재배치가 중요하다. 

캐시와 파이프라인에 대해서 빨래에 대해서 비유를 해보자.
세탁, 건조, 다림질, 빨래널기의 4단계가 있다고 할때 빨래바구니가 여러개 있을때 한 바구니가 끝날때까지 다른 바구니들이 쉬고 있으면 낭비가 심하다. 그래서 현실적으로는 한 단계가 끝나면 다음 바구니를 시작하고 다음 단계로 가는 방법이 효율적이라는 것을 알 수 있다. 
하지만 빨래바구니 별로 크기와 중요도가 달라서 각각 단계를 해결하는데 걸리는 시간이 다르다고 가정을 하면 곧이 곧대로 받은 순서대로 실행하기보다는 순서를 효율적인 방식으로 바꾸는 것이 좋을 것이다. 

CPU가 이런 방식으로 동작한다고 보면 된다. 